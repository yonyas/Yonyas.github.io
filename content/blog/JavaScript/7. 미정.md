---
title: 'ë¯¸ì •'
date: 2021-08-15
category: 'JavaScript'
draft: true
---

## ì˜ˆì œì½”ë“œ

> ì¤‘ì²©ë°°ì—´
> `[1, 2, ['a', [1, 2], false], 3, ['b', 'c', [1, 2]]];`  
> ì„ stringify í•œ ì½”ë“œ

```js
// ê´€ì‹¬ë¶„ë¦¬
const arrToString = arr => {
  let accStr = '';
  for (const v of arr) accStr += ',' + v;
  return '[' + accStr.substr(1) + ']';
};

const recursive = (arr, acc, i, stack) => {
  if (i < arr.length) {
    // ê° ì›ì†Œë¥¼ ë¬¸ìžì—´ë¡œ í™˜ì›í•˜ì—¬ ë‹¤ë¥¸ ë°°ì—´ì— ë‹´ëŠ”ë‹¤.
    if (Array.isArray(arr[i])) {
      stack.push([arr, acc, i + 1]);
      return recursive(arr[i], [], 0, stack);
    } else {
      acc.push(arr[i]);
      return recursive(arr, acc, i + 1, stack);
    }
  } else {
    // ì›ì†Œë³„ ë¬¸ìžì—´ë¡œ í™˜ì›ëœ ë°°ì—´ì„ ì´ìš©í•´ì„œ í†µí•©ë¬¸ìžì—´ì„ ë§Œë“ ë‹¤.
    arrToString(acc);
    const prev = stack.pop();
    if (prev) {
      const [prevArr, prevAcc, prevIndex] = prev;
      prevAcc.push(accStr);
      return recursive(prevArr, prevAcc, prevIndex, stack);
    } else {
      return acc;
    }
  }
};

const stringifyArr = arr => recursive(arr, [], 0, []);
```

ë³€ìˆ˜ ì¢…ë¥˜ì—ëŠ” counter, storage ë“±ì´ ìžˆë‹¤. ì´ ì¤‘ storage ë³€ìˆ˜ëŠ” ìœ„ì—ì„œ acc ì´ë‹¤.  
storage ë³€ìˆ˜ëŠ” lifecycleê³¼ scopeì™€ ê´€ë ¨ì´ í°ë° ì´ ì¤‘ lifecycleì´ ì¤‘ìš”í•˜ë‹¤.
recursive ì¸ìž ì¤‘ arrê³¼ acc ëŠ” ë¼ì´í”„ì‚¬ì´í´ì„ ê³µìœ í•œë‹¤. ìƒˆ ë°°ì—´ì´ ì‹œìž‘ë˜ë©´ ìƒˆë°°ì—´ arr[i]ê³¼ ìƒˆë°°ì—´ acc ê°€ ì¸ìžë¡œ ë“¤ì–´ê°„ë‹¤. ì´ ë•Œ ê¸°ì¡´ì— ìžˆë˜ accëŠ” stackì— ë„£ì–´ì¤€ë‹¤.

ë³€ìˆ˜ì˜ lifecycleì€ ëˆˆì— ë³´ì´ëŠ” í˜•íƒœê°€ ì•„ë‹ˆë‹¤. í•¨ìˆ˜ì— ì°¸ì¡°ë¡œ ë³´ë‚´ê±°ë‚˜ í•˜ê¸° ë•Œë¬¸ì— ì‰½ê²Œ íŒŒì•…ë˜ì§€ ì•ŠëŠ”ë‹¤.

1. ì½”ë“œì˜ ë¼ì´í”„ì‚¬ì´í´ì€ ì½”ë“œì˜ í˜•íƒœì™€ ì•Œì¹˜í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.
2. ì„¤ê³„ì— ì¼ì¹˜í•œë‹¤. (ì„¤ê³„ë¥¼ í•  ìˆ˜ ìžˆëŠëƒ? ì©..)
   -> 3. ðŸ’¡ ì›í•˜ëŠ” ì˜ë„ì— ë§žê²Œ ë³€ìˆ˜ë¥¼ ì„¤ì •í•œë‹¤.

ðŸ’¡ ë°ì´í„°ì™€ ë¡œì§ì„ ë¶„ë¦¬í•œë‹¤.  
ë°ì´í„°ì—ëŠ” ë‚´ê°€ ê°€ê³µí•  ìž¬ë£Œë“¤ì´ ë“¤ì–´ìžˆêµ°, ê°€ê³µë²•ì€ arToStringì— ìžˆë„¤.

âš ï¸ ì£¼ë¨¸ë‹ˆì— 500ì›. ì˜¤ëŠ˜ë§Œ ì‚°ë‹¤. = í˜„ìž¬ í•©ì³ì§„ ë¬¸ìžì—´ì´ë©´ ì¶©ë¶„í•´. ê·¸ ë¬¸ìžì—´ì„ ì¤‘ê°„ì— ì–´ë–»ê²Œë“  ìž˜ ë§Œë“¤ì—ˆê² ì§€. ê³¼ê±°ì˜ ë‚˜ë¥¼ ë¯¿ëŠ”ë‹¤!  
â­•ï¸ 500 -1000 +500 -200 ... ê°€ê³„ë¶€ë¼ë„ ì¨ì„œ ë¯¸ëž˜ì— ë‚˜ë¥¼ ëŒ€ë¹„í•œë‹¤.

### ë°°ì—´ì¸ì§€ì™€ ì•„ë‹Œì§€ë¥¼ ê¼­ ë‚˜ëˆ ì•¼ í•©ë‹ˆê¹Œ

ê·¸ëŸ´ í•„ìš” ì—†ë‹¤. ê·¸ ë¶€ë¶„ë„ ì¼ë°˜í™”í•  ìˆ˜ ìžˆë‹¤.

```js
const arrToString = arr => {
  let accStr = '';
  for (const v of arr) accStr += ',' + v;
  return '[' + accStr.substr(1) + ']';
};

const recursive = (arr, acc, i, stack) => {
  if (i < arr.length) {
    const currEl = arr[i];
    const [resultArr, resultAcc, resultIndex] = elementProcess(currEl);

    let resultArr, resultAcc, resultIndex;
    // if (Array.isArray(arr[i])) {
    //   stack.push([arr, acc, i + 1]);
    //   return recursive(arr[i], [], 0, stack);
    // } else {
    //   acc.push(arr[i]);
    //   return recursive(arr, acc, i + 1, stack);
    // }
  } else {
    arrToString(acc);
    const prev = stack.pop();
    if (prev) {
      const [prevArr, prevAcc, prevIndex] = prev;
      prevAcc.push(accStr);
      return recursive(prevArr, prevAcc, prevIndex, stack);
    } else {
      return acc;
    }
  }
};
```

## ê°•ì˜ë§í¬

[ì½”ë“œìŠ¤í”¼ì¸  Programming101 - 4ê°•](https://www.youtube.com/watch?v=A2aOqhZKZHU)
